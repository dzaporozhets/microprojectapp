<div class="w-full">
  <% content_for :title, "Projects" %>

  <% content_for :subnav do %>
    <div class="<%= subnav_css %>">
      <div class="flex flex-wrap justify-between items-center max-w-screen-lg mx-auto px-4">
        <%= home_tabs "Projects" %>
      <%= link_to "New Project", new_project_path, class: "btn-base" %>
      </div>
    </div>
  <% end %>

  <%= display_flash %>

  <div id="projects" class="grid grid-cols-1 gap-6 sm:gap-8">
    <% if @pinned_projects.present? %>
      <div>
        <h2 class="text-sm font-semibold text-gray-700 dark:text-gray-200 mb-3">Favorite Projects</h2>
        <ul role="list" class="space-y-2">
          <% @pinned_projects.each do |project| %>
            <%= render project %>
          <% end %>
        </ul>
      </div>
    <% end %>

    <% if @projects.present? %>
      <div>
        <% if @pinned_projects.present? %>
          <h2 class="text-sm font-semibold text-gray-700 dark:text-gray-200 mb-3">All Projects</h2>
        <% end %>
        <ul role="list" class="space-y-2">
          <% @projects.each do |project| %>
            <%= render project %>
          <% end %>
        </ul>
      </div>
    <% end %>

    <% if @archived_projects.any? %>
      <div>
        <h2 class="text-sm font-semibold text-gray-700 dark:text-gray-200 mb-3">Archived Projects</h2>
        <ul role="list" class="space-y-2">
          <% @archived_projects.each do |project| %>
            <%= render project %>
          <% end %>
        </ul>

        <% if @archived_projects.total_pages > 1 %>
          <div class="mt-4">
            <%= paginate @archived_projects %>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>
</div>
