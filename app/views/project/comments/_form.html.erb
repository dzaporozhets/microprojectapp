<%= turbo_frame_tag dom_task_comment_form_id(@task) do %>
  <%= form_with(model: [ @task.project, @task, Comment.new ], local: true, id: 'new_comment_form', html: { multipart: true }) do |form| %>
    <div class="mb-2">
      <%= form.text_field :body, required: true, class: "block base-input mt-2 w-full" %>
    </div>

    <div class="mt-2 flex flex-col md:flex-row md:items-center">
      <div class="flex-grow md:order-2 mb-2 md:mb-0 md:ml-2">
        <%= form.file_field :attachment,
          accept: allowed_file_types,
          class: "appearance-none file-select text-sm leading-tight file:mr-3 file:py-2 file:px-3 file:rounded-md file:border-0 file:text-sm file:font-medium w-full" %>
      </div>
      <%= form.submit 'Comment', class: 'btn-primary py-2 px-3 w-full md:w-auto md:order-1' %>
    </div>
  <% end %>
<% end %>
