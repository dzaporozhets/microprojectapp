<div class="w-full">

  <% content_for :title, "Schedule" %>

  <div class="flex justify-between items-center mb-4 pb-4 border-b dark:border-gray-600">
    <h1 class="font-bold text-2xl dark:text-gray-200">Upcoming tasks</h1>
  </div>

  <div class="flex flex-col md:flex-row md:space-x-12">
    <div class="mb-4 md:mb-0 md:w-1/3 mt-2">
      <%= render 'schedule/calendar' %>
    </div>

    <div class="mb-4 md:mb-0 md:w-2/3">
      <section class="task-list">
        <ol class="text-sm leading-6 text-gray-500">
          <% if @tasks.any? %>
            <% @tasks.includes(:project).group_by(&:project).each do |project, tasks| %>
              <div class="project-group mb-6">
                <h2 class="py-2 text-base font-semibold text-gray-900 dark:text-gray-200"><%= project.name %></h2>
                <ol class="mt-2 text-sm leading-6 text-gray-500">
                  <% tasks.each do |task| %>
                    <%= render 'schedule/task', task: task %>
                  <% end %>
                </ol>
              </div>
            <% end %>
            <%= paginate @tasks %>
          <% else %>
            <li class="py-2 flex">
              <p class="">No tasks due this month.</p>
            </li>
          <% end %>
        </ol>
      </section>
    </div>
  </div>
</div>
